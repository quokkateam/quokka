sudo: false
node_js:
- 6
install:
- gem install sass
- mkdir -p src/styles/css
- npm install -g codecov
- npm install
cache:
  directories:
  - node_modules
script:
- npm run sass:build
- npm test -- --coverage
- npm run build
after_success:
- codecov
deploy:
  provider: heroku
  api_key:
    secure: AGNK6YWUy3F/hCedwqYaRIMPWkFHTZE6Y21nlvcuvF5uT6CCo/7lxpaQC95K7dwM2YwrBt5dMBRr7v3fdb/TKLZ9u0jVevxioaf70p/2vZz77T8I83ZpUK2eyubZy2EiMFCceD7qrc+M+8hmoC87wmsOub/dBkm2zDfTu+x5/d72P03y6sqrvW/2mz4Rs74fbybxDtq/7J18TTy893iMU2WSwCiPT1W2xLknahqktUzscoJiG4dbK2r/4kT7JM8avMtdW22eQvbmQoY39lVoEW0IiZ5ca3BKdmw/MnRfo7NIdfJ8eJS7rkJbI4mA+O40j0a444PjneYRQ4/wBPhcvYs1rSfbFo6GwXReMaVLN4rz277r7qgYeOxmckOho9WWTjQ2EQY1RnI+GEJTY/smqXCY/CLN8El3UFrw6lCXSWDkO0NGqPPsIgK1bkwyi19S3Mn98x/pRpIFMkCaVDAm7y9gmeQloMR2QLKHlV6NJd8fGcWVBYqWJIlkmyvu25X7UwWk0EbOM0SnILAznGz9r70LIepqDhPvv/tdYhYaAoT0nbAg8MGjUn6d4z3g/0swcAJo9DTZWIHA1iMQlLOPWL1Oa+HHDzqPsJUvuyFDdih25EmXwoqaDelqtF3PZe8nSErMzn97WoAg1fm1BnuDoIdZE4rItbGQNt1/8c/BDAA=
  skip_cleanup: true
  app: quokka-prod
  on:
    repo: quokkateam/quokka
